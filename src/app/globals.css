@import "tailwindcss";

/* Enable class-based dark mode for Tailwind v4 - use :is() for higher specificity */
@custom-variant dark (&:is(.dark, .dark *));

/* Prevent white flash on navigation */
html {
  color-scheme: dark light;
}

/* Set background based on class (JS sets inline style immediately too) */
html.light {
  background-color: #FAF8F5;
}

html.dark {
  background-color: #1A1816;
}

/* Fallback: use system preference if no class yet */
@media (prefers-color-scheme: dark) {
  html:not(.light):not(.dark) {
    background-color: #1A1816;
  }
  html:not(.light):not(.dark) header {
    background-color: #1A1816 !important;
  }
}

@media (prefers-color-scheme: light) {
  html:not(.light):not(.dark) {
    background-color: #FAF8F5;
  }
  html:not(.light):not(.dark) header {
    background-color: #FFFFFF !important;
  }
}

:root {
  /* Light mode - Warm, inviting colors */
  --background: #FAF8F5;
  --foreground: #1A1A1A;
  --surface: #F0EDE8;
  --card: #FFFFFF;

  /* Text colors */
  --text-primary: #1A1A1A;
  --text-secondary: #555555;
  --text-muted: #888888;

  /* Hipper primary red */
  --primary: #C41E1E;
  --primary-50: #fef5f5;
  --primary-100: #fde8e8;
  --primary-200: #fbd5d5;
  --primary-300: #f7b2b2;
  --primary-400: #f08080;
  --primary-500: #e54545;
  --primary-600: #C41E1E;
  --primary-700: #a51a1a;
  --primary-800: #881717;
  --primary-900: #701616;
  --primary-950: #3c0808;
}

.dark {
  /* Dark mode - Warm, cozy dark colors */
  --background: #1A1816;
  --foreground: #F5F3F0;
  --surface: #252220;
  --card: #2A2725;

  /* Text colors - inverted */
  --text-primary: #F5F3F0;
  --text-secondary: #B5B0A8;
  --text-muted: #7A756D;

  /* Primary stays similar but slightly adjusted for dark */
  --primary-50: #2d1f1f;
  --primary-100: #3d2525;
  --primary-200: #5c3333;
  --primary-300: #8c4a4a;
  --primary-400: #b86060;
  --primary-500: #d84a4a;
  --primary-600: #C41E1E;
  --primary-700: #e85555;
  --primary-800: #f08080;
  --primary-900: #f7b2b2;
  --primary-950: #fde8e8;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-surface: var(--surface);
  --color-card: var(--card);

  /* Font family configuration */
  --font-heading: var(--font-heading), "Noto Serif JP", Georgia, serif;
  --font-body: var(--font-body), "Noto Sans JP", "Noto Sans KR", "Noto Sans SC", system-ui, sans-serif;

  /* Primary color theme */
  --color-primary-50: var(--primary-50);
  --color-primary-100: var(--primary-100);
  --color-primary-200: var(--primary-200);
  --color-primary-300: var(--primary-300);
  --color-primary-400: var(--primary-400);
  --color-primary-500: var(--primary-500);
  --color-primary-600: var(--primary-600);
  --color-primary-700: var(--primary-700);
  --color-primary-800: var(--primary-800);
  --color-primary-900: var(--primary-900);
  --color-primary-950: var(--primary-950);
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-body);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Utility classes */
.bg-warm {
  background-color: var(--background);
}

.bg-surface {
  background-color: var(--surface);
}

.bg-card {
  background-color: var(--card);
}

.text-secondary {
  color: var(--text-secondary);
}

.text-muted {
  color: var(--text-muted);
}

/* Refined link styling */
a {
  transition: color 0.2s ease;
}

/* Elegant focus states */
:focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px var(--background), 0 0 0 4px var(--primary-400);
}

/* Safe area support for notched devices */
@supports (padding: env(safe-area-inset-top)) {
  .sticky {
    padding-top: env(safe-area-inset-top);
  }

  footer {
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* Smooth scrolling */
html {
  scroll-behavior: smooth;
}

/* Selection styling */
::selection {
  background-color: var(--primary-100);
  color: var(--primary-900);
}

.dark ::selection {
  background-color: var(--primary-800);
  color: var(--primary-100);
}

/* Smooth transitions for theme change */
* {
  transition-property: background-color, border-color;
  transition-duration: 0.2s;
  transition-timing-function: ease;
}

